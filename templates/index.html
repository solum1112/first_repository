<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <title>렉시오 게임</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Sortable/1.15.0/Sortable.min.js"></script>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
</head>
<body>
    <div id="start-screen" class="screen active">
        <div id="start-box">
            <h2>렉시오 게임 시작하기</h2>
            <p>참여할 인원수를 선택해주세요.</p>
            <select id="num-players-select">
                <option value="3">3명</option>
                <option value="4">4명</option>
                <option value="5">5명</option>
            </select>
            <button id="start-game-button">게임 시작</button>
        </div>
    </div>
    <div id="waiting-screen" class="screen">
        <div>
            <h2>플레이어를 기다리는 중...</h2>
            <p id="waiting-status"></p>
        </div>
    </div>
    <div id="game-screen" class="screen">
        <div class="main-container">
            <div class="game-info" id="game-info"></div>
            <div class="board" id="game-board">
                <h2>현재 나온 패</h2>
                <div class="hand" id="board-hand"></div>
            </div>
            <hr>
            <div class="player-area">
                <h1>당신의 패</h1>
                <div class="hand" id="player-hand"></div>
            </div>
            <div class="controls">
                <button id="play-button">패 내기</button>
                <button id="pass-button">패스</button>
            </div>
        </div>
        <div class="status-container">
            <h2>플레이어 상태</h2>
            <table id="player-status">
                <thead><tr><th>플레이어</th><th>남은 패</th><th>금액</th><th>상태</th></tr></thead>
                <tbody id="player-status-tbody"></tbody>
            </table>
            <div class="log-container">
                <ul id="game-log-list"></ul>
            </div>
        </div>
    </div>
    <div id="round-result-screen" class="screen overlay">
        <div id="result-box" class="result-box">
            <h2 id="round-winner-text"></h2>
            <div id="round-payments-text" style="text-align: left; white-space: pre-wrap;"></div>
            <div id="round-money-status-text" style="text-align: left; white-space: pre-wrap;"></div>
            <p>잠시 후 다음 라운드를 시작합니다...</p>
        </div>
    </div>
    <div id="game-over-screen" class="screen overlay">
        <div id="result-box" class="result-box">
            <h2>게임 최종 결과</h2>
            <div id="final-rankings-text" style="text-align: left; white-space: pre-wrap;"></div>
            <div id="bankrupt-players-text"></div>
            <button id="play-again-button">새 게임 시작하기</button>
        </div>
    </div>
    
    <audio id="play-sound" src="{{ url_for('static', filename='sounds/play_card.mp3') }}" preload="auto"></audio>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/4.0.1/socket.io.js"></script>
    <script src="{{ url_for('static', filename='js/main.js') }}"></script>
</body>
</html>